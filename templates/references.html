<!-- templates/references.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Manage Papers/Code References</title>
    <style>
        body { margin: 0; padding: 0; font-family: sans-serif; background-color: #f7f7f7; color: #333; }
        main { max-width: 800px; margin: 30px auto; background: #fff; padding: 20px; }
        h1 { font-size: 1.8em; margin-bottom: 10px; }
        form { margin-bottom: 20px; background: #fafafa; padding: 10px; border: 1px solid #ccc; }
        input[type="text"], textarea { width: 100%; font-family: inherit; font-size: 1em; margin-bottom: 10px; padding: 6px; }
        button { background: #003C71; color: #fff; border: none; padding: 8px 16px; cursor: pointer; }
        .reference-block { border: 1px solid #eee; padding: 10px; margin-bottom: 10px; background: #fefefe; }
        .reference-block h3 { margin: 0 0 5px; font-size: 1.2em; color: #003C71; }
        a { color: #003C71; text-decoration: none; }
        a:hover { text-decoration: underline; }
    </style>
</head>
<body>
<main>
    <h1>Manage Papers / Code References</h1>

    <p><a href="{{ url_for('home') }}">Return to Home</a></p>

    {% if msg %}
      <p style="color:green;">{{ msg }}</p>
    {% endif %}

    <h2>Add New Reference</h2>
    <form method="POST">
        <label>Title:</label>
        <input type="text" name="ref_title" placeholder="Short descriptive title" />
        
        <label>Paper/Description Text:</label>
        <textarea name="ref_paper" rows="4" placeholder="Paste relevant excerpt or summary of the paper..."></textarea>

        <label>Code Snippet (optional):</label>
        <textarea name="ref_code" rows="4" placeholder="Paste related code snippet here..."></textarea>

        <button type="submit">Save Reference</button>
    </form>

    <hr />
    <h2>Existing References</h2>
    {% for ref in references %}
    <div class="reference-block">
        <h3>Reference #{{ ref.ref_id }} - {{ ref.title or 'Untitled' }}</h3>
        <p><strong>Paper/Description:</strong></p>
        <pre>{{ ref.paper_text }}</pre>
        {% if ref.code_snippet %}
        <p><strong>Associated Code:</strong></p>
        <pre>{{ ref.code_snippet }}</pre>
        {% endif %}
    </div>
    {% endfor %}
</main>
</body>
</html>
